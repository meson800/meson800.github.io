<!doctype html><html lang=en><head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Exploring Blender&rsquo;s panoramic camera modes to make a seamless circular render.">
<link rel=stylesheet type=text/css href=/css/style.css>
<title>Rendering seamless 3D panoramas</title>
<link rel=alternate type=application/rss+xml href=/index.xml title="Posts and publications by Christopher Johnstone">
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<script async defer data-domain=meson.us src=https://plausible.meson.us/js/plausible.js></script>
</head><body>
<div id=wrap><header>
<h1>
<a href=/ class=home-link>Christopher Johnstone</a>
</h1>
<ul class=header-links>
<li>
<a href=/about/>ABOUT</a>
</li>
<li>
<a href=/post/>BLOG</a>
</li>
<li>
<a href=/media/cjohnsto_cv.pdf>CV</a>
</li>
<li>
<a href=/rss_info/>RSS</a>
</li>
<li>
<a href=/publication/>PUBLICATIONS</a>
</li>
</ul>
</header>
<div class=spacer>
<hr><hr>
</div><div id=inner-wrap>
<div id=content>
<h1>Rendering seamless 3D panoramas</h1>
<i data-feather=calendar></i>
<time datetime=2022-12-20>Dec 20, 2022</time>
<br>
<div id=content>
<p>A tradition in the Galloway lab is to celebrate paper publication by creating a mug.
For the recent <a href=/publication/supercoiling-mediated-feedback-model/>supercoiling modeling paper</a>,
I needed to design something. Mugs are circular and I already had a nice Blender file
created for the cover design, could I just wrap chromatin around a (virtual) mug?</p>
<figure><img src=blender_mug_design.png alt="Initial mug design in Blender, showing chromatin wrapped around a mug" width=50%>
</figure>
<p>After some work, the answer is yes! We have a virtual mug surrounded by a continuous loop of chromatin.
How do we actual render this into a seamless image?</p>
<h2 id=blender-cameras-to-the-rescue>Blender cameras to the rescue</h2>
<p>The default Blender camera is typically either a <em>perspective</em> camera, where
parallel lines converge in the distance, or an <em>orthographic</em> camera, where parallel
lines remain parallel.</p>
<p>Could we use one of these cameras to render our seamless mug? If we imagined setting a camera on the
outside, we could imagine rotating the camera around the centerpoint of the mug, and capture a very thin
vertical frame. We could then combine all of these thin vertical slices into a single panorama. This is
how we would do it if we were trying to capture such a panorama with our phones.</p>
<figure><img src=rotated_camera.png alt="Several cameras surround the central mug" width=50%>
</figure>
<p>However, Blender lets us actually <em>directly</em> render <a href=https://docs.blender.org/manual/en/latest/render/cycles/object_settings/cameras.html>panoramic cameras</a>,
as long as we are using the raytracing engine, Cycles.</p>
<p>After placing a camera in the center, for the purpose of getting a seamless wrapped image,
we can use the equirectangular mode. By using the rendered viewport mode, we can see how the image changes as
we tweak settings:</p>
<p><img src=equirectangular_preview.png alt="Equirectangular mode"></p>
<p>After some compositing, we can easily get a nice, seamless rendering that wraps nicely onto an actual physical mug!</p>
<p><a href=featured.png>
<img sizes="(min-width: 35em) 1200px, 100vw" srcset="/post/blender_pano_cameras/featured_hu03d2ea3b6adf33aa9628c94f2fd85fae_3539352_250x0_resize_q90_h2_lanczos_3.webp 250w
, /post/blender_pano_cameras/featured_hu03d2ea3b6adf33aa9628c94f2fd85fae_3539352_550x0_resize_q90_h2_lanczos_3.webp 550w
, /post/blender_pano_cameras/featured_hu03d2ea3b6adf33aa9628c94f2fd85fae_3539352_1200x0_resize_q90_h2_lanczos_3.webp 1200w" src=/post/blender_pano_cameras/featured.png alt></a></p>
</div>
</div>
</div><div class=spacer>
<hr><hr>
</div>
<div class=footer>
<p>This site uses a self-hosted <a href=https://plausible.io/>Plausible</a> instance for visitor counting in a cookie-free, open-source, and privacy-preserving manner.</p>
<p>&copy; Christopher Johnstone 2022</p>
</div>
</div>
</body>
</html>